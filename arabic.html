<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>امتحان اللغة العربية</title>
    <style>
        body {
    user-select: none;
    overflow: hidden;
    background-color: white;
    transition: background-color 1s ease;
    margin: 0;
    font-family: sans-serif;
  }

  #block-screen {
    display: none;
    background: black;
    color: white;
    font-size: 30px;
    text-align: center;
    position: fixed;
    top: 0; left: 0;
    width: 100vw;
    height: 100vh;
    z-index: 9999;
    padding-top: 40vh;
  }

     
    </style>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div id="block-screen">
        تم الخروج من الامتحان وحرمانك منه!
      </div>
      
    <div class="container">
        <h1>امتحان اللغة العربية</h1>
        <div id="timer" style="display: none;"></div>
        <p>اضغط على الزر أدناه لبدء الامتحان.</p>
        <button id="startButton" class="start-button" onclick="showPasswordPopup()">ابدأ الامتحان</button>
        <iframe id="examFrame" src="https://forms.gle/NAHFEfZ9BNvipHVs8" allowfullscreen></iframe>
    </div>

    <div id="cheatScreen">
        <div>🚫 نحن لا نحب الغش!</div>
    </div>

    <div id="timeoutScreen">
        <div>⏰ انتهى الوقت! الرجاء تسليم الامتحان.</div>
    </div>

    <!-- Password Popup -->
    <div id="passwordPopup">
        <h3>أدخل كلمة المرور للبدء</h3>
        <input type="password" id="passwordInput" placeholder="Password" style="padding: 10px; font-size: 16px; margin-top: 10px;">
        <br><br>
        <button onclick="checkPassword()" style="padding: 10px 20px; font-size: 16px; background-color: blue; color: white; border: none; border-radius: 5px;">دخول</button>
    </div>

    <script src="script.js"></script>
    <script>
        // كود الحماية عند الخروج من الصفحة أو التبديل
        window.addEventListener("blur", blockScreen);
        document.addEventListener("visibilitychange", () => {
          if (document.hidden) {
            blockScreen();
          }
        });
      
        function blockScreen() {
          document.body.innerHTML = ""; // يمسح كل محتوى الصفحة
          const blockDiv = document.createElement("div");
          blockDiv.id = "block-screen";
          blockDiv.innerText = "تم الخروج من الامتحان وحرمانك منه!";
          document.body.appendChild(blockDiv);
          blockDiv.style.display = "block";
      
          // الخروج من وضع ملء الشاشة (اختياري)
          if (document.exitFullscreen) {
            document.exitFullscreen();
          }
        }
      </script>
      
</body>
</html>
